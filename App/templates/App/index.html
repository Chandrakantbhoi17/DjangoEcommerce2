{% extends 'App/base.html' %}
{% load static %}
{% block customlink %}
<style>
  .main_slider{
    border-bottom: 1px solid red;

  }
  .main_slider .carousel-inner  .carousel-item{
    max-height: 400px;
    
    

  }
  #slide .carousel-inner  .carousel-item img{
    height: 100%;
    width: 100%;

  }
#Trending {
  padding: 0 50px;
  position: relative;
}
.wrapper{
  background: #fff;
}
.control-item{
  height: 100px;
  width: 40px;
  background: black;
  color: red;
}
.carousel-control-prev{
  position: absolute;
  left:0;
  top: 50%;
  transform: translateY(-50%);
}
.carousel-control-next{
  position: absolute;
  right:0;
  top: 50%;
  transform: translateY(-50%);
}
.wrapper .img-box{
  height: 160px;
  width: 100%;
  position:relative;
  margin-bottom: 10px;
}
.wrapper .content-box{
  font-size: 14px;
  color: #000;
}

.wrapper .img-box img{
  height: 100%;
  
}
.price-box span:nth-child(2){
  color: #999;

}
.price-box span:nth-child(1){
  color: #86bd57;
}
.header h1{
  font-weight: 400;
  letter-spacing: 2px;
  font-size: 30px;
}
.header span{
  color: red;
}
.header a{
  color: red !important;
  position: relative;
  margin-bottom: 10px;
  
}
.header a::after{
  content: " ";
  position: absolute;
  bottom: 0;
  left: 0;

  width: 100%;
  height: 4px;
  
  background: red;
}

@media(max-width: 1024px){
  .control-item{
    display: none;
  }
  #Trending{
    padding:0;
  }
.wrapper{
   
    border-radius: 6px;
    margin: 25px 15px;

  }
.wrapper .img-box img{
    width: 100%;
  }
.prodsm{
  width: 180px;
  background:#fff;
  margin: 0 2px ;
}
.img-box{
  height: 120px;
}
  
}
@media(max-width: 765px){
  .prodsm{
    width: 175px;
  }
 
}
@media(max-width: 375px){
  .prodsm{
    width: 150px;
  }
  .wrapper .img-box{
    height: 120px;
  }
}






</style>
{% endblock customlink %}
{% block mainbody %}

<div id="carouselExampleInterval"  class="carousel slide main_slider " data-bs-ride="carousel">

  <div class="carousel-inner">
    {% for item in slider %}
    <div class="carousel-item {% if forloop.counter is 1 %}active{% endif %}">
      <img src="{{item.image.url}}" class="d-block w-100" alt="">
     
    </div>
    {% endfor %}
    
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>
<!-- Treand -->
<div class="container " id="Trend">
<div id="Trending" class="carousel slide mt-3 " data-bs-touch="false" data-bs-interval="false">
  <div class=" text-center header">
           <h1>Trending <span>Products</span></h1>
           <a href="#" class="text-dark"><i class="fa-solid fa-eye mx-1"></i>View All</a>
  </div>
  <div class="carousel-inner ">
     <div class="carousel-item active">
       <div class="row ">
   
         {% for   prod in trend%}
            <div class="col-sm-2 wrapper   ">
              <a href="#" class="p-1 text-decoration-none text-center ">
                <div class="img-box ">
                   <img src="{{prod.product.image.url}}" alt="" class="img-fluid  img-responsive">
                </div>
                <div class="content-box ">
                  <p>{{prod.product.productname}}</p>
                </div>
                <div class="price-box">
                   <span class="text-dark">₹{{prod.product.price}}</span>
                   <span class="text-decoration-line-through">₹{{prod.product.price_not}}</span>
                </div>
              </a>
            </div>
            {% if forloop.counter|divisibleby:6 and not foloop.last %} 
         </div>
       </div>
     <div class="carousel-item">
       <div class="row">
      {% endif %}
      {% endfor %}

      </div>
     </div>

</div>
  

<!-- carousel start-->
<a href="#"  class="carousel-control-prev control-item bg-dark" data-bs-target="#Trending" data-bs-slide="prev"><i class="fa fa-angle-left"></i></a>
<a href="#" class="carousel-control-next control-item" data-bs-target="#Trending" data-bs-slide="next"><i class="fa fa-angle-right"></i></a>
<!--carousel control end-->
</div>
</div>
</div>
<div class="container-fluid">
  
</div>
{% endblock mainbody %}
{% block customscript %}
<script type="text/javascript">
  if (document.body.offsetWidth < 1024){
    document.body.style.backgroundColor = "#e2eaef";
    document.getElementById('Trend').classList.remove('container')
    document.getElementById('Trend').classList.add('container-fluid')
  
    document.getElementById('Trend').innerHTML=`
    <div id="Trending" class="carousel slide mt-3 " data-bs-touch="false" data-bs-interval="false">
  <div class=" text-center header">
           <h1>Trending <span>Products</span></h1>
           <a href="#" class="text-dark"><i class="fa-solid fa-eye mx-1"></i>View All</a>
  </div>
    <div class="row justify-content-center ">
   
         {% for   prod in trend|slice:":4"%}
            <div class="prodsm mt-1 ">
              <div class="wrapper  ">
                <a href="#" class="text-decoration-none text-center ">
                <div class="img-box ">
                   <img src="{{prod.product.image.url}}" alt="" class="img-fluid img-responsive">
                </div>
                <div class="content-box ">
                  <p>{{prod.product.productname|truncatechars:20}}</p>
                </div>
                <div class="price-box">
                   <span class="text-dark">₹{{prod.product.price}}</span>
                   <span class="text-decoration-line-through">₹{{prod.product.price_not}}</span>
                </div>
                </a>
              </div>
            
            </div>
      {% endfor %}

      </div>`
}

</script>
{% endblock customscript %}
